<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solutions for Questions 1 to 7</title>
</head>
<body>
  <h1>Solutions (Step by Step)</h1>

  <!-- 
       QUESTION 1: Static Table
       
       Step 1: Create an HTML table structure.
       Step 2: Add a header row with columns: Name, Age, and City.
       Step 3: Add two rows of data with my name and others.
       OUTPUT: A static table displaying Name, Age, and City. -->
  <h2>Question 1: Static Table</h2>
  <table border="1">
    <thead>
      <tr>
        <th>Name</th>
        <th>Age</th>
        <th>City</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Rufai</td>
        <td>25</td>
        <td>Delta</td>
      </tr>
      <tr>
        <td>Ilyas</td>
        <td>22</td>
        <td>Kwara</td>
      </tr>
    </tbody>
  </table>

  <!-- 
       QUESTION 2: Fetch and Populate Table
      
       Step 1: Add a button to fetch data.
       Step 2: Create an empty table with "ID" and "Title" columns.
       Step 3: Write JavaScript to fetch data from an API.
       Step 4: Populate the table dynamically with the fetched data.
       OUTPUT: A dynamically filled table with rows from the API.
      -->
  <h2>Question 2: Dynamic Table</h2>
  <button id="fetch-table-btn">Fetch Data</button>
  <table border="1" id="dynamic-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!--
       QUESTION 3: Input-Based API Request
       
       Step 1: Add an input field for the user ID.
       Step 2: Add a button to trigger the fetch request.
       Step 3: Fetch user details using the entered ID.
       Step 4: Display the user name and email below the button.
       Step 5: Handle invalid IDs gracefully.
       OUTPUT: Displayed name and email of the user.
        -->
  <h2>Question 3: Input-Based API Request</h2>
  <input type="number" id="user-id-input" placeholder="Enter User ID">
  <button id="fetch-user-btn">Get User Info</button>
  <div id="user-info-output"></div>

  <!-- 
       QUESTION 4: Fetch with .then()
       
       Step 1: Add a button to trigger the fetch request.
       Step 2: Write JavaScript to fetch data using .then().
       Step 3: Parse and loop through the data to create a list.
       Step 4: Append the list items to the page dynamically.
       OUTPUT: A list of "Todo" titles fetched using .then().
      -->
  <h2>Question 4: Fetch with .then()</h2>
  <button id="fetch-then-btn">Fetch Data</button>
  <ul id="then-output"></ul>

  <!-- 
       QUESTION 5: Use Promise.all
       
       Step 1: Add a button to fetch data from multiple sources.
       Step 2: Fetch user and post data simultaneously using Promise.all.
       Step 3: Display user names in a list.
       Step 4: Display post titles in a list.
       Step 5: Handle errors gracefully if any fetch fails.
       OUTPUT: Combined data from both APIs displayed on the page.
        -->
  <h2>Question 5: Fetch Multiple Data Sources</h2>
  <button id="fetch-multiple-btn">Fetch Combined Data</button>
  <ul id="multiple-data-output"></ul>

  <!--
       QUESTION 6: Generate Dynamic Table
       
       Step 1: Add a button to trigger the fetch request.
       Step 2: Create an empty table with "ID," "Name," and "Email" columns.
       Step 3: Write JavaScript to fetch user data from the API.
       Step 4: Populate the table with the fetched data dynamically.
       Step 5: Handle errors gracefully.
       OUTPUT: A dynamically generated table with user data.
       -->
  <h2>Question 6: Generate Dynamic Table</h2>
  <button id="generate-table-btn">Generate Table</button>
  <table border="1" id="generated-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- 
       QUESTION 7: Fetch with Error Handling
       
       Step 1: Add a button to fetch data from an invalid API endpoint.
       Step 2: Fetch data and check the response status.
       Step 3: Display an error message if the request fails.
       Step 4: Display the fetched data if the request succeeds.
       OUTPUT: Error message displayed for invalid API.
        -->
  <h2>Question 7: Fetch with Error Handling</h2>
  <button id="fetch-error-btn">Fetch with Error Handling</button>
  <div id="error-output"></div>

  <script>
    // Question 2: Fetch and Populate Table
    async function populateDynamicTable() {
      const tableBody = document.getElementById('dynamic-table').querySelector('tbody');
      try {
        const response = await fetch('https://jsonplaceholder.typicode.com/todos');
        const data = await response.json();
        tableBody.innerHTML = '';
        data.slice(0, 5).forEach(item => {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${item.id}</td><td>${item.title}</td>`;
          tableBody.appendChild(row);
        });
      } catch (error) {
        console.error('Error fetching table data:', error);
      }
    }
    document.getElementById('fetch-table-btn').addEventListener('click', populateDynamicTable);

    // Question 3: Input-Based API Request
    async function fetchUserInfo() {
      const userId = document.getElementById('user-id-input').value;
      try {
        const response = await fetch(`https://jsonplaceholder.typicode.com/users/${userId}`);
        const user = await response.json();
        const outputDiv = document.getElementById('user-info-output');
        outputDiv.innerHTML = user.name
          ? `<p>Name: 
            ${user.name}</p><p>Email: 
                ${user.email}</p>`
          : 'User not found!';
      } catch (error) {
        console.error('Error fetching user info:', error);
      }
    }
    document.getElementById('fetch-user-btn').addEventListener('click', fetchUserInfo);
// Question 4: Fetch with .then()
document.getElementById('fetch-then-btn').addEventListener('click', function () {
      fetch('https://jsonplaceholder.typicode.com/todos')
        .then(response => response.json())
        .then(data => {
          const ul = document.getElementById('then-output');
          ul.innerHTML = '';
          data.slice(0, 5).forEach(item => {
            const li = document.createElement('li');
            li.textContent = item.title;
            ul.appendChild(li);
          });
        })
        .catch(error => console.error('Error fetching with .then():', error));
    });

    // Question 5: Use Promise.all
    document.getElementById('fetch-multiple-btn').addEventListener('click', async function () {
      const userUrl = 'https://jsonplaceholder.typicode.com/users';
      const postUrl = 'https://jsonplaceholder.typicode.com/posts';
      try {
        const [users, posts] = await Promise.all([
          fetch(userUrl).then(res => res.json()),
          fetch(postUrl).then(res => res.json())
        ]);
        // Display user names
        const userList = document.getElementById('user-list');
        userList.innerHTML = '';
        users.slice(0, 5).forEach(user => {
          const li = document.createElement('li');
          li.textContent = user.name;
          userList.appendChild(li);
        });
        // Display post titles
        const postList = document.getElementById('post-list');
        postList.innerHTML = '';
        posts.slice(0, 5).forEach(post => {
          const li = document.createElement('li');
          li.textContent = post.title;
          postList.appendChild(li);
        });
      } catch (error) {
        console.error('Error fetching multiple data sources:', error);
      }
    });

    // Question 6: Generate Dynamic Table
    async function generateTable() {
      const tableBody = document.getElementById('generated-table').querySelector('tbody');
      try {
        const response = await fetch('https://jsonplaceholder.typicode.com/users');
        const data = await response.json();
        tableBody.innerHTML = '';
        data.slice(0, 5).forEach(user => {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${user.id}</td><td>${user.name}</td><td>${user.email}</td>`;
          tableBody.appendChild(row);
        });
      } catch (error) {
        console.error('Error generating table:', error);
      }
    }
    document.getElementById('generate-table-btn').addEventListener('click', generateTable);

    // Question 7: Fetch with Error Handling
    async function fetchWithErrorHandling() {
      const errorOutput = document.getElementById('error-output');
      try {
        const response = await fetch('https://invalid-endpoint.typicode.com');
        const data = await response.json();
        errorOutput.textContent = 'Data fetched successfully!';
        console.log(data);
      } catch (error) {
        errorOutput.textContent = 'Error occurred while fetching data!';
        console.error('Error fetching data:', error);
      }
    }
    document.getElementById('fetch-error-btn').addEventListener('click', fetchWithErrorHandling);
    

    // ...
  </script>
</body>
</html>